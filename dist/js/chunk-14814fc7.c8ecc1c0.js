(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14814fc7"],{"50e3":function(t,s,a){},"96b2":function(t,s,a){"use strict";a("50e3")},ce95:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cart"},[t._m(0),a("table",{staticClass:"table mt-4 text-white"},[t._m(1),t._l(t.cartProducts.carts,(function(s){return a("tbody",{key:s.id},[a("tr",[a("td",[a("img",{staticClass:"img-fluid",attrs:{src:s.product.imageUrl,alt:"product-imageUrl"}})]),a("td",{staticClass:"align-middle"},[a("div",[a("h4",[t._v(t._s(s.product.title))]),a("span",{staticClass:"cart-category"},[t._v(" "+t._s(s.product.category)+" ")])]),s.coupon?a("div",{staticClass:"text-success"},[t._v("已套用優惠卷")]):t._e(),a("div",{staticClass:"btn-group w-100 d-md-none mt-3",attrs:{role:"group","aria-label":"Basic example"}},[a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return t.changeQty(s,!1)}}},[t._v(" - ")]),a("button",{staticClass:"btn btn-light",attrs:{type:"button"}},[t._v(" "+t._s(s.qty)+" ")]),a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return t.changeQty(s,!0)}}},[t._v(" + ")])])]),a("td",{staticClass:"d-md-table-cell d-none align-middle"},[a("div",{staticClass:"btn-group w-100",attrs:{role:"group","aria-label":"Basic example"}},[a("button",{staticClass:"btn btn-light",attrs:{type:"button",disabled:1===s.qty},on:{click:function(a){return t.changeQty(s,!1)}}},[t._v(" - ")]),a("button",{staticClass:"btn btn-light",attrs:{type:"button"}},[t._v(" "+t._s(s.qty)+" ")]),a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return t.changeQty(s,!0)}}},[t._v(" + ")])])]),a("td",{staticClass:"text-right h6 align-middle"},[a("div",{staticClass:"del_btn py-3",on:{click:function(a){return a.preventDefault(),t.delCartItem(s.id)}}},[a("i",{staticClass:"fas fa-times"})]),s.final_total!==s.total?a("del",[t._v(" "+t._s(t._f("currency")(s.total))+" ")]):t._e(),s.final_total===s.total?a("div",[t._v(" "+t._s(t._f("currency")(s.final_total))+" ")]):t._e(),s.final_total!==s.total?a("div",{staticClass:"text-success py-3"},[t._v(" "+t._s(t._f("currency")(s.final_total))+" ")]):t._e()])])])})),a("tfoot",[a("tr",[a("td",{attrs:{width:"80"}}),a("td",{staticClass:"d-md-table-cell d-none"}),a("td",{attrs:{width:"200"}},[t._v("總計")]),a("td",{staticClass:"text-right",attrs:{width:"200"}},[t._v(" "+t._s(t._f("currency")(t.cartProducts.total)))])]),t.cartProducts.total!==t.cartProducts.final_total?a("tr",[a("td",{attrs:{width:"80"}}),a("td",{staticClass:"d-md-table-cell d-none"}),a("td",{attrs:{width:"200"}},[t._v("折扣價")]),a("td",{staticClass:"text-right text-success",attrs:{width:"200"}},[t._v(" "+t._s(t._f("currency")(t.cartProducts.final_total))+" ")])]):t._e()])],2),a("div",{staticClass:"input-group mb-3 input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(s){s.target.composing||(t.coupon_code=s.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.addCouponCode(s)}}},[t._v(" 套用優惠碼 ")])])]),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-secondary col-4 col-md-2",attrs:{type:"button"},on:{click:t.nextStep}},[t._v("下一步")])])])},c=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"form"},[a("div",{staticClass:"form-step col-10 col-md-4 active"},[t._v("1.確認購物車")]),a("div",{staticClass:"form-step d-none d-md-flex col-md-4 justify-content-center"},[t._v("2.填寫訂單資訊")]),a("div",{staticClass:"form-step d-none d-md-flex col-md-4 justify-content-center"},[t._v("3.完成購買")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",[a("tr",[a("th",{attrs:{width:"20%"}},[t._v("產品")]),a("th",{attrs:{width:"35%"}}),a("th",{staticClass:"d-md-table-cell d-none",attrs:{width:"15%"}},[t._v("數量")]),a("th",{attrs:{width:"15%"}},[t._v("單價")])])])}],n=(a("99af"),a("5530")),o=a("2f62"),i={data:function(){return{coupon_code:"",mode:!0}},methods:Object(n["a"])({delCartItem:function(t){this.$store.dispatch("cartModules/delCartItem",t)},addCouponCode:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("ningningccn","/coupon"),a={code:t.coupon_code};t.$http.post(s,{data:a}).then((function(s){s.data.success?(t.$bus.$emit("messsage:push",s.data.message,"danger"),t.getCart()):t.$bus.$emit("messsage:push",s.data.message,"danger")}))},changeQty:function(t,s){if(s){var a=t.qty+1,e={product_id:t.product_id,qty:a};this.$store.dispatch("cartModules/delCartItem",t.id),this.$store.dispatch("cartModules/changeQty",e)}else{var c=t.qty+-1,n={product_id:t.product_id,qty:c};this.$store.dispatch("cartModules/delCartItem",t.id),this.$store.dispatch("cartModules/changeQty",n)}},nextStep:function(){this.$router.push("cartform")}},Object(o["b"])("cartModules",["getCart"])),computed:Object(n["a"])({},Object(o["c"])("cartModules",["cartProducts"])),created:function(){this.getCart()}},r=i,l=(a("96b2"),a("2877")),d=Object(l["a"])(r,e,c,!1,null,null,null);s["default"]=d.exports}}]);
//# sourceMappingURL=chunk-14814fc7.c8ecc1c0.js.map