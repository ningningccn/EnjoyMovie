(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19924772"],{1628:function(t,e,a){},"31fd":function(t,e,a){t.exports=a.p+"img/Discount_Banner.31dc65b7.jpg"},"35cb":function(t,e,a){"use strict";a("1628")},a10a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("Banner"),a("div",{staticClass:"container"},[a("Cart",{attrs:{cartProductSD:t.cartProduct},on:{reflash:t.getCart}}),a("Form")],1)],1)},r=[],o=(a("99af"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{attrs:{src:a("31fd"),alt:""}})])}],n=(a("35cb"),a("2877")),c={},l=Object(n["a"])(c,o,i,!1,null,"2f80e820",null),d=l.exports,u=a("9d8d"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart"},[a("table",{staticClass:"table mt-4 text-white"},[t._m(0),t._l(t.cartProducts.carts,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",[a("img",{staticClass:"img-fluid",attrs:{src:e.product.imageUrl,alt:""}})]),a("td",{staticStyle:{"vertical-align":"middle"}},[a("div",[a("h4",[t._v(t._s(e.product.title))]),a("span",{staticClass:"cart-category",staticStyle:{"background-color":"red",padding:"4px","border-radius":"5px"}},[t._v(" "+t._s(e.product.category)+" ")])]),e.coupon?a("div",{staticClass:"text-success"},[t._v("已套用優惠卷")]):t._e()]),a("td",{staticStyle:{"vertical-align":"middle"}},[t._v(" "+t._s(e.qty)+" "+t._s(e.product.unit)+" ")]),a("td",{staticClass:"text-right h6",staticStyle:{"vertical-align":"middle"}},[a("div",{staticClass:"del_btn py-3",staticStyle:{cursor:"pointer"},on:{click:function(a){return a.preventDefault(),t.delCartItem(e.id)}}},[a("i",{staticClass:"fas fa-times"})]),e.final_total!==e.total?a("del",[t._v(" "+t._s(t._f("currency")(e.product.price))+" ")]):t._e(),e.final_total===e.total?a("div",[t._v(" "+t._s(t._f("currency")(e.product.price))+" ")]):t._e(),e.final_total!==e.total?a("div",{staticClass:"text-success py-3"},[t._v(" "+t._s(t._f("currency")(e.final_total))+" ")]):t._e()])])])})),a("tfoot",[a("tr",[a("td",{attrs:{width:"80"}}),a("td"),a("td",{attrs:{width:"200"}},[t._v("總計")]),a("td",{staticClass:"text-right",attrs:{width:"200"}},[t._v(" "+t._s(t._f("currency")(t.cartProducts.total)))])]),t.cartProducts.total!==t.cartProducts.final_total?a("tr",[a("td",{attrs:{width:"80"}}),a("td"),a("td",{attrs:{width:"200"}},[t._v("折扣價")]),a("td",{staticClass:"text-right text-success",attrs:{width:"200"}},[t._v(" "+t._s(t._f("currency")(t.cartProducts.final_total))+" ")])]):t._e()])],2),a("div",{staticClass:"input-group mb-3 input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addCouponCode(e)}}},[t._v(" 套用優惠碼 ")])])])])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("產品")]),a("td"),a("td",{staticStyle:{width:"15%"}},[t._v("數量")]),a("td",{staticStyle:{width:"15%"}},[t._v("單價")])])])}],v=a("5530"),f=a("2f62"),_={data:function(){return{coupon_code:""}},methods:Object(v["a"])({delCartItem:function(t){this.$store.dispatch("cartModules/delCartItem",t)},addCouponCode:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("ningningccn","/coupon"),a=this,s={code:a.coupon_code};console.log(this),this.$http.post(e,{data:s}).then((function(e){e.data.success?(console.log(e.data.message),t.getCart()):console.log(e.data.message)}))}},Object(f["b"])("cartModules",["getCart"])),computed:Object(v["a"])({},Object(f["c"])("cartModules",["cartProducts"])),created:function(){this.getCart()}},g=_,h=Object(n["a"])(g,m,p,!1,null,null,null),C=h.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form d-flex justify-content-center mt-5"},[a("form",{staticClass:"col-md-6 ",on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t.errors.has("email")?a("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("email"))+" ")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t._v(" "),t.errors.has("name")?a("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"tel",name:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t.errors.has("tel")?a("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t.errors.has("address")?a("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._m(0)])])},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger"},[t._v("送出訂單")])])}],y={data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{createOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("ningningccn","/order"),a=this,s=a.form;this.$validator.validate().then((function(r){r?t.$http.post(e,{data:s}).then((function(t){t.data.success&&(console.log(t.data),a.$router.push("/customer_checkout/".concat(t.data.orderId)))})):console.log("欄位不完整")}))}}},w=y,$=Object(n["a"])(w,x,b,!1,null,null,null),P=$.exports,N={data:function(){return{cartProduct:[],message:""}},components:{Navbar:u["a"],Banner:d,Cart:C,Form:P},methods:{getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("ningningccn","/cart"),e=this;this.$http.get(t).then((function(t){console.log(t.data.data),e.cartProduct=t.data.data}))}},created:function(){this.getCart()}},j=N,O=Object(n["a"])(j,s,r,!1,null,null,null);e["default"]=O.exports}}]);
//# sourceMappingURL=chunk-19924772.0b3abd05.js.map