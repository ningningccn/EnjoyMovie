(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71cb3246"],{"26d2":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._m(0),s("div",{staticClass:"form d-flex justify-content-center mt-5 text-white"},[s("form",{staticClass:"col-md-6 ",on:{submit:function(t){return t.preventDefault(),e.createOrder(t)}}},[s("div",{staticClass:"form-group"},[e._m(1),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:e.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:e.form.user.email},on:{input:function(t){t.target.composing||e.$set(e.form.user,"email",t.target.value)}}}),e.errors.has("email")?s("span",{staticClass:"text-danger"},[e._v(" "+e._s(e.errors.first("email"))+" ")]):e._e()]),s("div",{staticClass:"form-group "},[e._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:e.form.user.name},on:{input:function(t){t.target.composing||e.$set(e.form.user,"name",t.target.value)}}}),e._v(" "),e.errors.has("name")?s("span",{staticClass:"text-danger"},[e._v("姓名必須輸入")]):e._e()]),s("div",{staticClass:"form-group"},[e._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("tel")},attrs:{type:"tel",name:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:e.form.user.tel},on:{input:function(t){t.target.composing||e.$set(e.form.user,"tel",t.target.value)}}}),e.errors.has("tel")?s("span",{staticClass:"text-danger"},[e._v("電話必須輸入 "),s("small",{staticClass:"text-danger"},[e._v("(必需填寫)")])]):e._e()]),s("div",{staticClass:"form-group"},[e._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("address")},attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:e.form.user.address},on:{input:function(t){t.target.composing||e.$set(e.form.user,"address",t.target.value)}}}),e.errors.has("address")?s("span",{staticClass:"text-danger"},[e._v("地址欄位不得留空")]):e._e()]),s("div",{staticClass:"form-group"},[e._m(5),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:e.form.message},on:{input:function(t){t.target.composing||e.$set(e.form,"message",t.target.value)}}})]),s("div",{staticClass:"d-flex justify-content-between mt-3"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.backStep}},[e._v(" 上一步 ")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"}},[e._v(" 送出訂單 ")])])])])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form text-white"},[s("div",{staticClass:"form-step "},[e._v("1.確認購物車")]),s("div",{staticClass:"form-step active"},[e._v("2.填寫訂單資訊")]),s("div",{staticClass:"form-step"},[e._v("3.完成購買")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"useremail"}},[e._v("Email "),s("small",{staticClass:"text-danger"},[e._v("(必需填寫)")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"username"}},[e._v("收件人姓名: "),s("small",{staticClass:"text-danger"},[e._v("(必需填寫)")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"usertel"}},[e._v("收件人電話 "),s("small",{staticClass:"text-danger"},[e._v("(必需填寫)")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"useraddress"}},[e._v("收件人地址 "),s("small",{staticClass:"text-danger"},[e._v("(必需填寫)")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"comment"}},[e._v("留言 "),s("small",{staticClass:"text-success"},[e._v("(此欄位非必填)")])])}],i=(s("99af"),{data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{createOrder:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io","/api/").concat("ningningccn","/order"),s=e.form;e.$store.dispatch("updateLoading",!0),e.$validator.validate().then((function(a){a?e.$http.post(t,{data:s}).then((function(t){t.data.success?(e.$router.push("checkout/".concat(t.data.orderId)),e.$store.dispatch("updateLoading",!1)):(e.$bus.$emit("messsage:push",t.data.message,"danger"),e.$store.dispatch("updateLoading",!1))})):(e.$bus.$emit("messsage:push","資料還沒填好","danger"),e.$store.dispatch("updateLoading",!1))}))},backStep:function(){this.$router.push("checkproduct")}}}),o=i,n=(s("c7ee"),s("2877")),l=Object(n["a"])(o,a,r,!1,null,null,null);t["default"]=l.exports},9630:function(e,t,s){},c7ee:function(e,t,s){"use strict";s("9630")}}]);
//# sourceMappingURL=chunk-71cb3246.6b8afe71.js.map